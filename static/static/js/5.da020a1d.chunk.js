(this["webpackJsonpsn-ts"]=this["webpackJsonpsn-ts"]||[]).push([[5],{315:function(e,t,s){e.exports={chat:"Chat_chat__6EqPU",messages:"Chat_messages__USR76",username:"Chat_username__ZDVq0",textmessage:"Chat_textmessage__1_c2T",addmessage:"Chat_addmessage__1oEuG",button:"Chat_button__3j-ai"}},316:function(e,t,s){"use strict";s.r(t);var c=s(110),a=s(1),n=s.n(a),r=s(11),i=s(142),j=s(315),u=s.n(j),b=s(0),o=function(){var e=Object(r.c)(),t=Object(r.d)((function(e){return e.chat.status}));return Object(a.useEffect)((function(){return e(Object(i.c)()),function(){e(Object(i.d)())}}),[]),Object(b.jsxs)("div",{children:["error"===t&&Object(b.jsx)("div",{children:"Error. Refresh page"}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d,{}),Object(b.jsx)(l,{})]})]})},d=function(){var e=Object(r.d)((function(e){return e.chat.messages})),t=Object(a.useRef)(null),s=Object(a.useState)(!0),n=Object(c.a)(s,2),i=n[0],j=n[1];return Object(a.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(b.jsxs)("div",{style:{height:"600px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<350?!i&&j(!0):i&&j(!1)},children:[e.map((function(e){return Object(b.jsx)(h,{message:e},e.id)})),Object(b.jsx)("div",{ref:t})]})},h=n.a.memo((function(e){var t=e.message;return Object(b.jsxs)("div",{className:u.a.messages,children:[Object(b.jsx)("img",{src:t.photo,alt:"avatar",width:"70px",height:"70px"}),Object(b.jsx)("div",{className:u.a.username,children:Object(b.jsx)("p",{children:t.userName})}),Object(b.jsx)("div",{className:u.a.textmessage,children:Object(b.jsx)("p",{children:t.message})})]})})),l=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),s=t[0],n=t[1],j=Object(r.c)(),o=Object(r.d)((function(e){return e.chat.status}));return Object(b.jsxs)("div",{className:u.a.addmessage,children:[Object(b.jsx)("div",{children:Object(b.jsx)("textarea",{onChange:function(e){return n(e.currentTarget.value)},value:s})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:u.a.button,disabled:"ready"!==o,onClick:function(){s&&(j(Object(i.b)(s)),n(""))},children:"Send"})})]})};t.default=function(){return Object(b.jsx)("div",{className:u.a.chat,children:Object(b.jsx)(o,{})})}}}]);
//# sourceMappingURL=5.da020a1d.chunk.js.map